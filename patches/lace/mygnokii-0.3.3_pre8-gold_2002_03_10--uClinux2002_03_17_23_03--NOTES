mygnokii-0.3.3_pre8-gold_2002_03_10--uClinux2002_03_17_23_03--complete.diff
* is my current _complete_ diff, no filtering

Any m68k-specific compilation rules dropped
* is is very specific to the actually used uClinux gcc & binutils,
  moreover these programs were already obsolete/buggy/inappropriate/etc.
* This drop includes general-improvements to library-compilation stuff
  as it should be solved by automake/libtool much more better anyway
  (also to stop never-ending bugreporting of various ppl on various machines).
* m68k-bound stackchecking also dropped (anyway not yet works, not much time to
  test it and it wasn't critical feature)

All the lines '#include "config.h"' on top of all source files dropped, not
interesting, just mechanical changes (and not complete in my patch as my
myGnokii is stripped-down version).

Zillions of "#ifdef UCLINUX" dropped - specific for stipping-down: the
resulting binary is capable of only n6110.c-set of phones, only phonebook and
datacalls (plus reset, cancelcall and such stuff). Professional solution would
be to modularize whole myGnokii - to select required features to be compiled in
during initial configure/setup.

Zillions of missing "static" keywords and "#if 0"-ing for unused items all
dropped as it was done usually in just a quick/hack mode, it is easier to do it
all again. Sometimes there are even fatal bugs caused by conflicting global
symbols (one of them reported several days ago on the list if I remembed good).
And generally it is impossible to detect dead code during features-stipping
without proper attributes to all the objects. Excerpts of two mails already
sent about this problem in the past:
+++
	Date: Fri, 16 Nov 2001 00:25:44 +0100
	To: gnokii@net.lut.ac.uk
	Message-ID: <20011116002544.A736@short.ucw.cz>
* some conflicting global variables uniquized to fix bugs (see "checkstatic")
* use my checkstatic to fix symbol attributes everywhere
  + improves code readability a lot, discards unused functions, fixes bugs
  * checkstatic can be downloaded on:
    http://short.vellum.cz/cgi/viewcvs/nethome/home/short/bin/checkstatic?rev=HEAD
+++
	Date: Sat, 23 Feb 2002 23:57:47 +0100
	To: Marcin Wiacek <marcin-wiacek@topnet.pl>
	Message-ID: <20020223235747.A30344@short.ucw.cz>
Unfortunately I have a lot of work with proper function/variables attributes
such as "extern"/"static"/(global). As you don't have them (yes, yes, it is
inherited from gnokii) properly specified I cannot easily find parts of code no
longer used after I have disabled the parts calling it (I need to strip down
the code size as much as possible). Checking for such broken attributes can be
done by my "checkstatic" program (I don't know of any other similiar, YMMV):

mygnokii-0.3.3_pre8-gold_2002_03_10--uClinux2002_03_17_23_03--singlethread-plus-change-poll-to-select-for-uClinux-compat.diff
* Unfortunately the major feature - singlethreading - is combined with
  transition from poll(2) to select(2) system call (no trivial separation
  although it is primarily mechanical). Ideal case would be to provide both
  interfaces - either select(2) or poll(2), depending on system available
  functions, of course.

mygnokii-0.3.3_pre8-gold_2002_03_10--uClinux2002_03_17_23_03--USA-VoiceStream-analog-datacalls.diff
* patched according to sniffed packets between 5190<->NDS-3.0 communication.
  I am not sure whether I have correctly the exact point between phone
  initialization and the datacall invocation as I was just using one reset-call
  packet dump for this analysis (anyway it works now). I don't know whether
  digital calls work there (in USA, VoiceStream GSM operator, multiple ISPs
  tried) as I was never able to establish digital datacall (ATS35=0) there
  (but in Czech Republic digital datacalls were the only ones sometimes working
  in the original myGnokii). Currently (after USA-packets were patched-in)
  I was no longer able to invoce a single datacall here (in Czech rep.) but it
  was always very problematic here (over Gnokii - NDS works fine) even before
  so it may be just bad luck.
  Anyway with this patch (and TOGETHER with singlethread patch - REQUIRED!) the
  reliability of datacall in USA is 99% of call setups, really very rock solid.
